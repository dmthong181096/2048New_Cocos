{"version":3,"sources":["../../../../assets/Script/assets/Script/bestScore.js"],"names":["Emitter","require","V","cc","Class","extends","Component","properties","bestScoreNumber","Label","onLoad","instance","emit","updateBestScore","number","string","saveBestScore","userData","sys","localStorage","setItem","JSON","stringify","loadBestScore","parse","getItem","score","start"],"mappings":";;;;;;AACA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACA,IAAMC,IAAID,QAAQ,WAAR,CAAV;AACAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM;AADZ,KAHP;;AAOL;;AAEAC,UATK,oBASK;AACNV,gBAAQW,QAAR,CAAiBC,IAAjB,CAAsB,gBAAtB,EAAwC,IAAxC;AACH,KAXI;AAYLC,mBAZK,2BAYWC,MAZX,EAYmB;AACpB,aAAKN,eAAL,CAAqBO,MAArB,GAA8BD,MAA9B;AACH,KAdI;AAeLE,iBAfK,yBAeSC,QAfT,EAemB;AACpBd,WAAGe,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAwCC,KAAKC,SAAL,CAAeL,QAAf,CAAxC;AACH,KAjBI;AAkBLM,iBAlBK,2BAkBW;AACZ,YAAIN,WAAWI,KAAKG,KAAL,CAAWrB,GAAGe,GAAH,CAAOC,YAAP,CAAoBM,OAApB,CAA4B,UAA5B,CAAX,CAAf;AACA,YAAIR,YAAY,IAAhB,EAAsB;AAClB,iBAAKD,aAAL,CAAmBd,EAAEe,QAArB;AACA;AACH;AACD,aAAKJ,eAAL,CAAqBI,SAASS,KAA9B;AACA,eAAOT,QAAP;AAEH,KA3BI;AA6BLU,SA7BK,mBA6BI,CAER;AA/BI;;AAiCL;AAjCJ","file":"bestScore.js","sourceRoot":"../../../../assets/Script","sourcesContent":["\nconst Emitter = require('mEmitter');\nconst V = require('Variables');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bestScoreNumber: cc.Label\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        Emitter.instance.emit('transBestScore', this);\n    },\n    updateBestScore(number) {\n        this.bestScoreNumber.string = number\n    },\n    saveBestScore(userData) {\n        cc.sys.localStorage.setItem('userData', JSON.stringify(userData))\n    },\n    loadBestScore() {\n        let userData = JSON.parse(cc.sys.localStorage.getItem('userData'));\n        if (userData == null) {\n            this.saveBestScore(V.userData)\n            return\n        }\n        this.updateBestScore(userData.score)\n        return userData\n        \n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n"]}