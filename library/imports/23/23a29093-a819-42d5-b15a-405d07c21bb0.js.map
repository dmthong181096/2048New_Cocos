{"version":3,"sources":["../../../../assets/Script/assets/Script/LoseGame.js"],"names":["Emitter","require","V","cc","Class","extends","Component","properties","playAgainBtn","Node","labelScore","Label","boardGame","Ala","onLoad","instance","registerEvent","_animOpenPopup","bind","node","y","active","score","game","enabled","audio","playSoundLose","_animAla","tween","to","opacity","start","position","v2","easing","call","_animOpenBtnPlayAgain","string","_animScore","_animationBtn","_animHidePopup","action","repeatForever","sequence","scaleBy","scaleTo","easeBackInOut","runAction","scoreGame","value","progress","s","e","c","t","num","Math","round","String","actionScale1","actionScale2","Action","onClickPlayAgainBtn","pauseSoundLose"],"mappings":"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","file":"LoseGame.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require('mEmitter');\nconst V = require(\"Variables\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playAgainBtn: cc.Node,\n        labelScore: cc.Label,\n        boardGame: cc.Node,\n        Ala:cc.Node,\n    },\n\n    onLoad() {\n        Emitter.instance.registerEvent(\"showPopupLoseGame\",this._animOpenPopup.bind(this));\n        this.node.y = 1000;\n        this.node.active = false;\n\n    },\n    _animOpenPopup(score) {\n        this.node.active=true;\n        V.game.enabled = false\n        V.audio.playSoundLose();\n        this._animAla();\n        cc.tween(this.boardGame)\n            .to(.5, { opacity: 50 })\n            .start();\n\n        cc.tween(this.node)\n            .to(1, { position: cc.v2(0, 0) }, { easing: 'backInOut' })\n            .call(() => {\n                this._animOpenBtnPlayAgain();\n                this.labelScore.string = 0;\n                this._animScore(score);\n            })\n            .start();\n    },\n    _animationBtn() {\n    },\n    _animHidePopup() {\n        cc.tween(this.boardGame)\n            .to(.5, { opacity: 255 })\n            .start();\n\n        cc.tween(this.node)\n            .to(1, { position: cc.v2(0, 1000) })\n            .start();\n    },\n    _animOpenBtnPlayAgain() {\n        let action = cc.repeatForever(\n            cc.sequence(\n                cc.scaleBy(1, 0.9, 1.1),\n                cc.scaleTo(1, 1, 1)\n            )\n        ).easing(cc.easeBackInOut(.5));\n        this.playAgainBtn.runAction(action).easing((cc.easeBackInOut(.5)));\n    },\n    _animScore(scoreGame) {\n        let score = { value: 0 };\n        cc.tween(score)\n            .to(2, { value: scoreGame }, {\n                progress: (s, e, c, t) => {\n                    let num = Math.round(e * t);\n                    this.labelScore.string = String(num);\n                }\n            })\n            .start();\n    },\n\n    _animAla(){\n        let actionScale1=cc.scaleTo(2,1.2,1.2);\n        let actionScale2=cc.scaleTo(2,1,1);\n        let Action =cc.repeatForever(cc.sequence(actionScale1,actionScale2));\n        this.Ala.runAction(Action);\n    },\n    start() {\n\n    },\n    onClickPlayAgainBtn() {\n        this._animHidePopup();\n        this.boardGame.opacity = 255;\n        V.audio.pauseSoundLose();\n        V.game.enabled = true\n    }\n    // update (dt) {},\n});\n\n"]}