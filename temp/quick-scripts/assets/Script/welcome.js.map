{"version":3,"sources":["welcome.js"],"names":["V","require","Emitter","cc","Class","extends","Component","properties","label","default","type","Label","_text","_isClick","mainMenu","Node","btnPlay","btnSetting","cloud1","cloud2","logo","isClick","value","onLoad","string","fontSize","active","tween","node","to","opacity","call","_initMainScreen","audio","playMusicBackground","start","instance","registerEvent","transAudio","data","runAction","_animationBtn","_animationCloud","_animLogo","anim","repeatForever","sequence","scaleBy","scaleTo","easing","easeBackInOut","anim2","moveBy","v2","anim3","rotateTo","onClickBtnPlay","console","log","isNoneSound","playSoundClick","emit","director","loadScene"],"mappings":"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","file":"welcome.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const V = require(\"Variables\");\nconst Emitter = require('mEmitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        label: {\n            default: null,\n            type: cc.Label\n        },\n        _text: '2048',\n        _isClick: false,\n        mainMenu: cc.Node,\n        btnPlay: cc.Node,\n        btnSetting: cc.Node,\n        cloud1: cc.Node,\n        cloud2: cc.Node,\n        logo: cc.Node\n\n    },\n    get isClick(){\n        return this._isClick\n    },\n    set isClick (value){\n        return this._isClick = value\n    },\n\n    onLoad: function () {\n        this.isClick = false\n        this.label.string = this._text;\n        this.label.fontSize = 200;\n        this.mainMenu.active = false;\n        cc.tween(this.label.node)\n            .to(2, { opacity: 0 })\n            .call(() => {\n                this._initMainScreen();\n            })\n            .call(() => {V.audio.playMusicBackground(true)})\n            .start()\n        Emitter.instance = new Emitter();\n        Emitter.instance.registerEvent(\"transAudio\", this.transAudio, this);\n        \n    },\n    transAudio(data){\n        V.audio = data\n    },\n    _initMainScreen() {\n        this.mainMenu.active = true;\n        this.btnPlay.runAction(this._animationBtn());\n        this.btnSetting.runAction(this._animationBtn());\n        this.cloud1.runAction(this._animationCloud());\n        this.cloud2.runAction(this._animationCloud());\n        this.logo.runAction(this._animLogo());\n    },\n    _animationBtn() {\n        return this.anim = cc.repeatForever(\n            cc.sequence(\n                cc.scaleBy(1, 0.9, 1.1),\n                cc.scaleTo(1, 1, 1)\n            )\n        ).easing(cc.easeBackInOut(.5));\n    },\n    _animationCloud() {\n        return this.anim2 = cc.repeatForever(\n            cc.sequence(\n                cc.moveBy(1, cc.v2(-15, 0)),\n                cc.moveBy(1, cc.v2(15, 0))\n            )\n        ).easing(cc.easeBackInOut(.5));\n    },\n    _animLogo() {\n        return this.anim3 = cc.rotateTo(5, 0).easing(cc.easeBackInOut(.5));\n    },\n    onClickBtnPlay() {\n        if (this.isClick == false) {\n            console.log(V.isNoneSound)\n            V.audio.playSoundClick()\n            Emitter.instance.emit(\"transAudioSceneWelcomeToMain\", V.audio.isNoneSound)\n            cc.director.loadScene(\"Main\")\n            this.isClick = true\n        }\n        return\n\n       ;\n       \n        \n    }\n\n    // update: function (dt) {\n    // },\n});\n"]}